<html>
    <style>
      body { margin: 0; }
      canvas { width: 100%; height: 100% }
    </style>

    <link rel="stylesheet" type="text/css" href="css/styles.css" />

  </head>
  <body>

    <div id="menu">
    <table>
    <tr>
    <td>Height </td>
    <td><input type='range' id='height' min='1' max='75' value='25' oninput="adjustHeight(value)"/></td>
    </tr>
    
    <tr>
    <td>Width</td>
    <td><input type='range' id='width'  min='1' max='75' value = '35' oninput="adjustWidth(value)"/></td>
    </tr>

    <tr>
    <td>Depth</td>  
    <td><input type='range' id='depth'  min='1' max='75' value = '50'oninput="adjustDepth(value)"/></td>
    </tr>

    <tr>
    <td> Roof Pitch </td>
    <td><input type='range' id='pitch' min='5' max='25' value = '15' oninput="changePitch(value)" /></td>
    </tr>



    <tr>
    <td>Wall Color</td>  
    <td><input type='color' id='wallcolor'oninput="adjustColor(value, walls)" value='#D3D3D3'/></td>
    </tr>
   
    <tr>
    <td>Roof Color</td>
    <td><input type='color' id='wallcolor'oninput="adjustColor(value, houseTop)" value='#9c7151'></td>
    </tr>


    </table>
  </div>
   <div id="world">
  Use your mouse wheel to zoom in and out and these sliders to change dimensions.

   
    <script src="js/three.min.js"></script>
    <script src="js/controls/OrbitControls.js"></script>
    
    <script type="text/javascript" src="js/jquery142.min.js"></script>





    <script>
      
      
       

      var front;
      var left;
      var right;
      var back;
      var roofLeft = new THREE.Mesh();
      var roofRight = new THREE.Mesh();
      var house = [];
      var onRight = [];
      var onLeft = [];
      var houseTop = [];	
      var walls = [];

      var wallcolor = 0xD3D3D3;
      var baseofworld = 0;
      var wall_thickness = .1;
      var width = 1;
      var height = 1;
      var depth = 1;
      
      var pitch = 10;
      var hypot = 5;
      var base = 4;
      var oside = 3;


      var a;
      var b;
      var c;
      var d;




      var scene = new THREE.Scene();
       var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 800 );
      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( (window.innerWidth/2), (window.innerHeight/2) );


      document.body.appendChild( renderer.domElement );
      
      renderer
      
      var controls = new THREE.OrbitControls( camera, renderer.domElement );        
      
      controls.maxPolarAngle = (Math.PI/2) -.1; 
      

      controls.maxDistance = 200;
      camera.position.x = 25;
      camera.position.y = 35;
      camera.position.z = 50;
      camera.lookAt( scene.position );
      
      var buildGround = function() {

      var grasstexture = THREE.ImageUtils.loadTexture( "textures/grasslight-big.jpg" );
      grasstexture.wrapS = grasstexture.wrapT = THREE.RepeatWrapping;
      grasstexture.repeat.set(2, 2);

      var fieldmaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, map: grasstexture } );

      fieldmaterial.side = THREE.DoubleSide;
      var groundGeometry = new THREE.PlaneGeometry(500, 500, 1, 1);

      ground = new THREE.Mesh(groundGeometry, fieldmaterial);

      ground.position.y = baseofworld;
      ground.position.x = 0;
      ground.rotation.x = - Math.PI / 2;
      ground.receiveShadow = true;
      scene.add(ground);  

      }

      var buildSky = function () {

      var skytexture = THREE.ImageUtils.loadTexture( "textures/sky.jpg" );
      skytexture.wrapS = skytexture.wrapT = THREE.RepeatWrapping;
      

      var skymaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, map: skytexture } );
      
      skymaterial.side = THREE.DoubleSide;
      var skyGeometry = new THREE.SphereGeometry( 600, 100, 100 );
      

      sky = new THREE.Mesh(skyGeometry, skymaterial);
      scene.add(sky);  
      
      }



      var render = function () {
        requestAnimationFrame( render );
        renderer.render(scene, camera);
      };

      render();


   
 



	var toRadians = function (angle) {
  		return angle * (Math.PI / 180);
	}


      var keepAboveGround = function (object) {

            

        object.position.y = baseofworld + (height/2);
        

      }

      var setVars = function() {
	front = house[0];
	left = house[1];
	right = house[2];
	back = house[3];
}
      

      var buildHouse = function () {
	
	 //build all the walls
        for(i = 0; i < 4; i++) {
           
	 house[i] = buildWall(1, 1, wall_thickness); 
	 scene.add(house[i]);
        }
  	 	

      setVars();
     


      var frontedges = new THREE.WireframeHelper( front, 0x000000);
      frontedges.material.linewidth = 2;

      scene.add(frontedges);

      
      
      var backedges = new THREE.WireframeHelper( back, 0x000000);
      backedges.material.linewidth = 2;
      scene.add(backedges);


      
      var leftedges = new THREE.WireframeHelper( left, 0x000000);
      leftedges.material.linewidth = 2;

      scene.add(leftedges);

            
      var rightedges = new THREE.WireframeHelper( right, 0x000000);
      rightedges.material.linewidth = 2;
      scene.add(rightedges);

      
      
      //ceiling

      roofLeft = buildTop(width, wall_thickness, depth);
         

      houseTop.push(roofLeft);
      scene.add(roofLeft);

      roofRight = buildTop(width, wall_thickness, depth);
	
      houseTop.push(roofRight);
      scene.add(roofRight);

      } 




      function changePitch (cdegrees) {

	pitch = cdegrees;
	adjustTop();
      
       
      }






      var buildTop = function (x,y,z) {

      var wall_geometry = new THREE.BoxGeometry( x, y, z );
      var wall_material= new THREE.MeshBasicMaterial( { color: 0x9c7151 } );
      var wall = new THREE.Mesh( wall_geometry, wall_material );
      

      return wall;


      } 




      //This function creates every wall.
      
      var buildWall = function (x,y,z) {

      var wall_geometry = new THREE.BoxGeometry( x, y, z );
     
      
       var wall_material = wrapWall();
     
      wall_material.side = THREE.DoubleSide;
      //
     
      
      var wall = new THREE.Mesh( wall_geometry, wall_material );
      
      
      keepAboveGround(wall);

      //house.push(wall);
      walls.push(wall);


      return wall;


      } 
      var wrapWall = function () {

	var wrapper = new THREE.MeshBasicMaterial( {color: wallcolor});
	return wrapper;
      }	

      var adjustHeight = function (hchange) {

        height = hchange;
               
        //roofLeft.position.y = height;
        //roofRight.position.y = height;

        for(i = 0; i < house.length; i++) {
          
          house[i].scale.y = height;
          keepAboveGround(house[i]);
           
        }

	}
      var adjustTop = function () {

	
        base = width /2;	
	oside = Math.tan(pitch) * base;
	hypot = Math.sqrt( (base * base) + (oside + oside));
	roofLeft.scale.x = hypot;
	roofRight.scale.x = hypot;
	roofLeft.rotation.z = toRadians(pitch);
	roofRight.rotation.z =( toRadians(pitch) * -1);

	


  
      }

      var adjustWidth = function (wchange) {

        width = wchange;

        left.position.x = ((width /2) * -1);
        right.position.x = (width /2);
                  
        front.scale.x = width;
        back.scale.x = width;



        roofLeft.scale.x = (width/2);
        roofLeft.position.x = (width/4)* -1;
        roofRight.scale.x = (width/2);
	roofRight.position.x = (width/4); 
  
      }

      var adjustDepth = function (dchange) {
        
	depth = dchange;
	

	
        left.scale.z = depth;
        
        right.scale.z = dchange;
        

        front.position.z = (depth /2);
        
        back.position.z = ((depth /2) * -1);
        roofLeft.scale.z = depth;
        roofRight.scale.z = depth;
 
        console.log(front.position.z);
	console.log(depth);
	console.log(dchange);
	console.log(left.scale.z);
	console.log(back.position.z);

  
      }

     var adjustColor = function (cchange, anarray) {

        

        wallcolor = "0x" + cchange.slice(1);

        

        for(i = 0; i < anarray.length; i++) {
          
          anarray[i].material.color.setHex(wallcolor);
           
        }




     }

      
 
   
	
      buildGround();
      buildSky();
      buildHouse();;
      
      adjustTop();

      
    </script>
</div>


  </body>
</html>
